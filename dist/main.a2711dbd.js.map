{"version":3,"sources":["main.js"],"names":["$siteList","$","$last","find","hashMap","JSON","parse","localStorage","getItem","url","logoType","logoSrc","render","on","window","prompt","indexOf","websiteName","getWebName","push","saveWebList","e","parentNode","currentTarget","grandNode","index","childrenIndex","splice","document","i","length","key","open","name","nameFlag","split","remove","forEach","node","logo","toUpperCase","$li","insertBefore","children","webStr","stringify","setItem"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAMA,SAAS,GAAGC,CAAC,CAAC,WAAD,CAAnB;AACA,IAAMC,KAAK,GAAGF,SAAS,CAACG,IAAV,CAAe,aAAf,CAAd;AAEA,IAAIC,OAAO,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,QAArB,CAAX,KAA8C,CAC1D;AAAEC,EAAAA,GAAG,EAAE,qBAAP;AAA8BC,EAAAA,QAAQ,EAAE;AAAxC,CAD0D,EAE1D;AACED,EAAAA,GAAG,EAAE,2BADP;AAEEC,EAAAA,QAAQ,EAAE,KAFZ;AAGEC,EAAAA,OAAO,EAAE;AAHX,CAF0D,EAO1D;AAAEF,EAAAA,GAAG,EAAE,uBAAP;AAAgCC,EAAAA,QAAQ,EAAE;AAA1C,CAP0D,CAA5D;AAUAE,MAAM;AAENX,CAAC,CAAC,YAAD,CAAD,CAAgBY,EAAhB,CAAmB,OAAnB,EAA4B,YAAM;AAChC,MAAIJ,GAAG,GAAGK,MAAM,CAACC,MAAP,CAAc,aAAd,CAAV,CADgC,CACQ;;AACxCN,EAAAA,GAAG,GAAGA,GAAG,CAACO,OAAJ,CAAY,MAAZ,MAAwB,CAAxB,GAA4B,aAAaP,GAAzC,GAA+CA,GAArD;AACAQ,EAAAA,WAAW,GAAGC,UAAU,CAACT,GAAD,CAAxB;AACAL,EAAAA,OAAO,CAACe,IAAR,CAAa;AAAEV,IAAAA,GAAG,EAAEA,GAAP;AAAYC,IAAAA,QAAQ,EAAE;AAAtB,GAAb;AACAE,EAAAA,MAAM;AACNQ,EAAAA,WAAW;AACZ,CAPD;AASAnB,CAAC,CAAC,MAAD,CAAD,CAAUY,EAAV,CAAa,OAAb,EAAsB,UAACQ,CAAD,EAAO;AAC3B,MAAIC,UAAU,GAAGD,CAAC,CAACE,aAAF,CAAgBD,UAAjC;AACA,MAAIE,SAAS,GAAGF,UAAU,CAACA,UAA3B;AACA,MAAIG,KAAK,GAAGC,aAAa,CAACJ,UAAD,EAAaE,SAAb,CAAzB;AACApB,EAAAA,OAAO,CAACuB,MAAR,CAAeF,KAAf,EAAsB,CAAtB;AACAb,EAAAA,MAAM;AACNQ,EAAAA,WAAW;AACZ,CAPD,GASA;AACA;AACA;AACA;AAEA;;AACAnB,CAAC,CAAC2B,QAAD,CAAD,CAAYf,EAAZ,CAAe,UAAf,EAA2B,UAACQ,CAAD,EAAO;AAChC,OAAK,IAAIQ,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGzB,OAAO,CAAC0B,MAA5B,EAAoCD,CAAC,EAArC,EAAyC;AACvC,QAAIR,CAAC,CAACU,GAAF,KAAUb,UAAU,CAACd,OAAO,CAACyB,CAAD,CAAP,CAAWpB,GAAZ,CAAV,CAA2B,CAA3B,CAAd,EAA6C;AAC3CK,MAAAA,MAAM,CAACkB,IAAP,CAAY5B,OAAO,CAACyB,CAAD,CAAP,CAAWpB,GAAvB;AACA;AACD;AACF;AACF,CAPD;;AASA,SAASS,UAAT,CAAoBT,GAApB,EAAyB;AACvB,MAAIwB,IAAI,GAAGxB,GAAG,CAACO,OAAJ,CAAY,MAAZ,MAAwB,CAAxB,GAA4B,aAAaP,GAAzC,GAA+CA,GAA1D;AACA,MAAIyB,QAAQ,GAAGD,IAAI,CAACE,KAAL,CAAW,IAAX,EAAiB,CAAjB,EAAoBA,KAApB,CAA0B,GAA1B,CAAf;AACA,MAAIlB,WAAW,GAAGiB,QAAQ,CAAC,CAAD,CAAR,KAAgB,KAAhB,GAAwBA,QAAQ,CAAC,CAAD,CAAhC,GAAsCA,QAAQ,CAAC,CAAD,CAAhE;AACA,SAAOjB,WAAP;AACD;;AAED,SAASL,MAAT,GAAkB;AAChBZ,EAAAA,SAAS,CAACG,IAAV,CAAe,mBAAf,EAAoCiC,MAApC;AACAhC,EAAAA,OAAO,CAACiC,OAAR,CAAgB,UAACC,IAAD,EAAU;AACxB,QAAMrB,WAAW,GAAGC,UAAU,CAACoB,IAAI,CAAC7B,GAAN,CAA9B;AACA,QAAM8B,IAAI,GACRD,IAAI,CAAC5B,QAAL,KAAkB,KAAlB,sBACgB4B,IAAI,CAAC3B,OADrB,WAEIM,WAAW,CAAC,CAAD,CAAX,CAAeuB,WAAf,EAHN;AAIA,QAAMC,GAAG,GAAGxC,CAAC,yMAMIqC,IAAI,CAAC7B,GANT,sFAQiB8B,IARjB,uDASiBtB,WATjB,+DAAD,CAYAyB,YAZA,CAYaxC,KAZb,CAAZ;AAaD,GAnBD;AAoBD;;AAED,SAASwB,aAAT,CAAuBY,IAAvB,EAA6BhB,UAA7B,EAAyC;AACvC,MAAIO,CAAC,GAAG,CAAR;AACA,MAAIc,QAAQ,GAAGrB,UAAU,CAACqB,QAA1B;;AACA,SAAOd,CAAC,GAAGc,QAAQ,CAACb,MAApB,EAA4B;AAC1B,QAAIQ,IAAI,KAAKK,QAAQ,CAACd,CAAD,CAArB,EAA0B,OAAOA,CAAP;AAC1BA,IAAAA,CAAC;AACF;;AACD,SAAO,CAAC,CAAR;AACD;;AAED,SAAST,WAAT,GAAuB;AACrB,MAAIwB,MAAM,GAAGvC,IAAI,CAACwC,SAAL,CAAezC,OAAf,CAAb;AACAG,EAAAA,YAAY,CAACuC,OAAb,CAAqB,QAArB,EAA+BF,MAA/B;AACD","file":"main.a2711dbd.js","sourceRoot":"..\\src","sourcesContent":["const $siteList = $(\".siteList\");\r\nconst $last = $siteList.find(\"li.lastItem\");\r\n\r\nlet hashMap = JSON.parse(localStorage.getItem(\"webStr\")) || [\r\n  { url: \"https://github.com/\", logoType: \"text\" },\r\n  {\r\n    url: \"https://www.bilibili.com/\",\r\n    logoType: \"img\",\r\n    logoSrc: \"../img/bilibili.png\",\r\n  },\r\n  { url: \"https://www.acfun.cn/\", logoType: \"text\" },\r\n];\r\n\r\nrender();\r\n\r\n$(\"#addButton\").on(\"click\", () => {\r\n  let url = window.prompt(\"请输入您要添加的网址：\"); // 弹窗\r\n  url = url.indexOf(\"http\") !== 0 ? \"https://\" + url : url;\r\n  websiteName = getWebName(url);\r\n  hashMap.push({ url: url, logoType: \"text\" });\r\n  render();\r\n  saveWebList();\r\n});\r\n\r\n$(\".del\").on(\"click\", (e) => {\r\n  let parentNode = e.currentTarget.parentNode;\r\n  let grandNode = parentNode.parentNode;\r\n  let index = childrenIndex(parentNode, grandNode);\r\n  hashMap.splice(index, 1);\r\n  render();\r\n  saveWebList();\r\n});\r\n\r\n// 页面离开时执行函数\r\n// window.onbeforeunload = () => {\r\n//   saveWebList();\r\n// };\r\n\r\n// 监听键盘自动打开首字母对应按键的网站\r\n$(document).on(\"keypress\", (e) => {\r\n  for (let i = 0; i < hashMap.length; i++) {\r\n    if (e.key === getWebName(hashMap[i].url)[0]) {\r\n      window.open(hashMap[i].url);\r\n      break;\r\n    }\r\n  }\r\n});\r\n\r\nfunction getWebName(url) {\r\n  let name = url.indexOf(\"http\") !== 0 ? \"https://\" + url : url;\r\n  let nameFlag = name.split(\"//\")[1].split(\".\");\r\n  let websiteName = nameFlag[0] === \"www\" ? nameFlag[1] : nameFlag[0];\r\n  return websiteName;\r\n}\r\n\r\nfunction render() {\r\n  $siteList.find(\"li:not(.lastItem)\").remove();\r\n  hashMap.forEach((node) => {\r\n    const websiteName = getWebName(node.url);\r\n    const logo =\r\n      node.logoType === \"img\"\r\n        ? `<img src=${node.logoSrc} />`\r\n        : websiteName[0].toUpperCase();\r\n    const $li = $(`<li>\r\n          <button class=\"del\">\r\n            <svg class=\"icon\">\r\n              <use xlink:href=\"#icon-close\"></use>\r\n            </svg> \r\n          </button>\r\n          <a href=\"${node.url}\">\r\n            <div class=\"site\">\r\n              <div class=\"logo\">${logo}</div>\r\n              <div class=\"link\">${websiteName}</div>\r\n            </div>\r\n          </a>\r\n        </li>`).insertBefore($last);\r\n  });\r\n}\r\n\r\nfunction childrenIndex(node, parentNode) {\r\n  let i = 0;\r\n  let children = parentNode.children;\r\n  while (i < children.length) {\r\n    if (node === children[i]) return i;\r\n    i++;\r\n  }\r\n  return -1;\r\n}\r\n\r\nfunction saveWebList() {\r\n  let webStr = JSON.stringify(hashMap);\r\n  localStorage.setItem(\"webStr\", webStr);\r\n}\r\n"]}